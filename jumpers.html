<!doctype html>
<html lang="en">
  <head>
      <title>Manage Jumpers</title>
    {% include 'navbar.html' %}

      <div class="container-fluid" style="margin-top:80px">
      <div class="row flex-xl-nowrap">
        <div class="col-12 col-md-3 col-xl-2 bd-sidebar">
            <a class="list-group-item list-group-item-action bg-primary text-white"
               href="/jumpers?dropzone={{dropzone.key.id()}}&jumper=-1&action=add" role="button"> Register a Jumper</a>
        </div>
        <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 bd-content" role="main">
            <div class="row">
                <div class="col-4">
                    <div class="list-group" id="list-tab" role="tablist">
                        {% for jumper_mega in jumpers %}
                        {% set jumper = jumper_mega[0] %}
                        {% set registration = jumper_mega[1] %}
                        <a class="list-group-item list-group-item-action {% if loop.index == 1 %} active {% endif%} "
                           id="list-{{jumper.key.id()}}-list" data-toggle="list" href="#list-{{jumper.key.id()}}"
                           role="tab" aria-controls="{{jumper.key.id()}}">
                            <div class="row justify-content-between">
                                <div class="col justify-content-left">
                                    <h6 class="card-title">
                                        {{jumper.name}}
                                    </h6>
                                </div>
                                <div class=" col justify-content-end">
                                    <p class="card-text">{{registration_status[registration.current]}}</p>
                                </div>
                            </div>
                        </a>


                        {% endfor %}
                    </div>
                </div>
                <div class="col-8">
                    <div class="tab-content" id="nav-tabContent">
                        {% for jumper_mega in jumpers %}
                        {% set jumper = jumper_mega[0] %}
                        {% set registration = jumper_mega[1] %}
                        <div class="tab-pane fade {% if loop.index == 1 %} show active {% endif%}"
                             id="list-{{jumper.key.id()}}" role="tabpanel"
                             aria-labelledby="list-{{jumper.key.id()}}-list">
                            <form action=/jumpers?dropzone={{dropzone.key.id()}}&jumper={{jumper.key.id()}}&action=update">
                                <div class="form-group row">
                                    <label for="name" class="col-4 col-form-label">Jumper Name</label>
                                    <div class="col-8">
                                        <input id="name" name="name" type="text" required="required"
                                               class="form-control here" value="{{jumper.name}}">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="email" class="col-4 col-form-label">Jumper email</label>
                                    <div class="col-8">
                                        <div class="input-group">
                                            <input id="email" name="email" type="text" class="form-control here"
                                                   required="required" value="{{jumper.email}}">
                                            <div class="input-group-addon append">@gmail.com</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="waiver" class="col-4 col-form-label">Waiver Expiry</label>
                                    <div class="col-8">
                                        <input id="waiver" name="waiver" type="text" class="form-control here"
                                               required="required">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="reserve" class="col-4 col-form-label">Reserve Expiry</label>
                                    <div class="col-8">
                                        <input id="reserve" name="reserve" type="text" class="form-control here">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="offset-4 col-8">
                                        <button name="submit" type="submit" class="btn btn-primary">Submit</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                        {%endfor%}
                    </div>
                </div>
            </div>
        </main>
      </div>
      </div>

{% include 'scripts.html' %}